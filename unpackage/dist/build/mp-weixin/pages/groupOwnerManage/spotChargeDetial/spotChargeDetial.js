(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/groupOwnerManage/spotChargeDetial/spotChargeDetial"],{"0d9f":function(t,e,n){"use strict";n.r(e);var s=n("82eb"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);e["default"]=i.a},4535:function(t,e,n){"use strict";(function(t){n("b5e5"),n("921b");s(n("66fd"));var e=s(n("dd7a"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"627b":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,function(e,n){var s=t.selectedList.indexOf(e.orderId),i=t.selectedList.indexOf(e.orderId);return{$orig:t.__get_orig(e),g0:s,g1:i}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},i=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return i})},"82eb":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{list:[],selectedList:[],selectMoney:[],isAllChecked:!1,show:!1,editValue:"",clickMoney:"",actId:"",orderId:""}},computed:{totalMoney:function(){for(var t=0,e=0;e<this.selectMoney.length;e++)t+=this.selectMoney[e];return t}},onLoad:function(e){console.log(e),this.actId=t.getStorageSync("addActId")},onShow:function(){this.getList()},methods:{getList:function(){var t=this;this.$http.get({url:"/v1/rest/manage/sceneChargeDetails",data:{activitiesId:this.actId}}).then(function(e){console.log(e),200==e.status&&(t.list=e.data)})},editMoney:function(e){console.log(e),e.status?t.showToast({title:"该会员已收费，无法修改！",duration:2e3,icon:"none"}):(this.show=!0,this.clickMoney=e.money,this.orderId=e.orderId)},onChange:function(t){this.editValue=t.detail},onClose:function(){this.show=!1},confirm1:function(){var e=this;this.show=!1,this.$http.get({url:"/v1/rest/manage/updateSceneFee",data:{orderId:this.orderId,totalFee:this.editValue}}).then(function(n){console.log(n),200==n.status&&(e.getList(),t.showToast({title:"修改成功",duration:2e3,icon:"none"}))})},handleCheck:function(t){if(this.Item=t,!t.status){var e=this.selectedList.indexOf(t.orderId);e>=0?(this.selectedList.splice(e,1),this.selectMoney.splice(e,1)):(this.selectedList.push(t.orderId),this.selectMoney.push(t.totalFee)),this.selectedList.length==this.list.length?this.isAllChecked=!0:this.isAllChecked=!1}},allCheck:function(){this.isAllChecked=!this.isAllChecked,this.isAllChecked?(this.selectedList=[],this.selectMoney=[],this.list.forEach(function(t){t.status||(this.selectedList.push(t.orderId),this.selectMoney.push(t.totalFee))},this)):(this.selectedList=[],this.selectMoney=[])},addMember:function(){t.navigateTo({url:"/pages/groupOwnerManage/searchMember/searchMember"})},submit:function(){var e=this;this.$http.get({url:"/v1/rest/manage/settlementOk",data:{orderId:this.selectedList.join(","),operatorId:t.getStorageSync("userInfo").userId,clubId:t.getStorageSync("clubId")}}).then(function(n){if(console.log(n),200==n.status){var s=e;t.removeStorageSync("addActId"),t.showModal({title:"提示",content:"".concat(n.data.message,"\n收入：").concat(n.data.expenditure,"元\n账户余额：").concat(n.data.income,"元"),cancelText:"去结算",success:function(e){e.confirm?s.getList():e.cancel&&t.redirectTo({url:"/pages/groupOwnerManage/activitySettlement/activitySettlement"})}})}})}}};e.default=n}).call(this,n("543d")["default"])},b2cd:function(t,e,n){},d6aa:function(t,e,n){"use strict";var s=n("b2cd"),i=n.n(s);i.a},dd7a:function(t,e,n){"use strict";n.r(e);var s=n("627b"),i=n("0d9f");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("d6aa");var a=n("2877"),c=Object(a["a"])(i["default"],s["a"],s["b"],!1,null,"438284a2",null);e["default"]=c.exports}},[["4535","common/runtime","common/vendor"]]]);