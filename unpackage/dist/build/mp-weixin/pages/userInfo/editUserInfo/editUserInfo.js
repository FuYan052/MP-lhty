(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userInfo/editUserInfo/editUserInfo"],{"0598":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return Promise.all([i.e("common/vendor"),i.e("components/w-picker/w-picker")]).then(i.bind(null,"b900"))},n={components:{wPicker:a},data:function(){return{imgFile:"",nickName:"",sex:"",sexValue:"",sexList:[{label:"男",value:1},{label:"女",value:2}],heightList:[],heightValue:"",birthValue:"",defaultValBirth:["1990","06","15"],birthRangeValue:"",workList:[{label:"",value:""},{label:"",value:""}],workId:"",workValue:"",regionId:"",regionValue:"",selectedIds:[],selectedList:[],infoId:""}},onLoad:function(t){var i=this;this.$http.get({url:"/v1/rest/mydata/findUserInfo",data:{userId:e.getStorageSync("userInfo").userId}}).then(function(e){console.log(e),200==e.status&&(i.infoId=e.data.id,i.imgFile=e.data.headPortrait,i.nickName=e.data.nickName,i.sex=e.data.sex,1==e.data.sex?i.sexValue="男":i.sexValue="女",i.heightValue=e.data.height,i.birthValue=e.data.birthday,i.workId=e.data.occupationId,i.workValue=e.data.occupation,i.regionId=e.data.region,i.regionValue=e.data.regionName,e.data.labelId?i.selectedIds=e.data.labelId.split(","):i.selectedIds=[],i.selectedList=e.data.labelVoList)});for(var a=120;a<=200;a++){var n={label:a+" cm",value:a};this.heightList.push(n)}this.$http.get({url:"/v1/rest/public/findDictList",data:{skey:"occupation"}}).then(function(e){console.log(e),200==e.status&&(i.workList=e.data)})},onShow:function(){e.getStorageSync("selectedLabels")&&(this.selectedIds=e.getStorageSync("selectedLabels").labelIds,this.selectedList=e.getStorageSync("selectedLabels").labelList)},methods:{choiceImg:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(i){console.log(i),t.imgFile=i.tempFilePaths[0];var a=i.tempFilePaths[0];e.showLoading({title:"上传中..."}),e.uploadFile({url:t.$http.baseUrl+"/v1/rest/file/uploadOSS",filePath:a,name:"file",success:function(i){e.hideLoading();var a=JSON.parse(i.data);console.log(a),200==a.status&&(t.imgFile=a.data[0],e.showToast({title:"上传成功！",duration:1500,icon:"none"}))},fail:function(e){console.log(e)}})}})},InputNickName:function(e){this.nickName=e.detail},selectSex:function(){this.$refs.picker1.show()},confirmSex:function(e){this.sexValue=e.result},selectHeight:function(e){this.$refs.picker2.show()},confirmHeight:function(e){this.heightValue=e.result},selectBirth:function(e){this.$refs.picker3.show()},confirmBirth:function(e){this.birthValue=e.result;var t=e.checkArr[0].toString();Number(e.checkArr[0])<=1969?this.birthRangeValue="69前":Number(e.checkArr[0])>=2e3&&Number(e.checkArr[0])<2010?this.birthRangeValue="00后":Number(e.checkArr[0])>=2010?this.birthRangeValue="10后":this.birthRangeValue=t.substring(2,3)+"0后"},selectWork:function(e){this.$refs.picker4.show()},confirmWork:function(e){console.log(e),this.workValue=e.checkArr.label,this.workId=e.checkArr.value},selectRegion:function(e){this.$refs.picker5.show()},confirmRegion:function(e){console.log(e),this.regionValue=e.result,this.regionId=e.checkValue[1]},selectLabel:function(){console.log(this.selectedIds),e.navigateTo({url:"/pages/userInfo/tagsPage/tagsPage?ids="+encodeURIComponent(JSON.stringify(this.selectedIds))})},submit:function(){var t={id:this.infoId,headPortrait:this.imgFile,nickName:this.nickName,sex:this.sex,height:this.heightValue,birthday:this.birthValue,ageGroup:this.birthRangeValue,occupationId:this.workId,region:this.regionId,labelId:this.selectedIds.join(","),userId:e.getStorageSync("userInfo").userId};this.$http.post({url:"/v1/rest/mydata/saveUserInfo",data:t}).then(function(t){console.log(t),200==t.status&&(e.removeStorageSync("selectedLabels"),e.navigateBack(),e.showToast({title:"保存成功！",duration:1500,icon:"none"}))})}}};t.default=n}).call(this,i("543d")["default"])},2773:function(e,t,i){"use strict";i.r(t);var a=i("c7f6"),n=i("566b");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("2c27");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"38413592",null);t["default"]=r.exports},"2c27":function(e,t,i){"use strict";var a=i("e9c9"),n=i.n(a);n.a},"566b":function(e,t,i){"use strict";i.r(t);var a=i("0598"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a},"7c67":function(e,t,i){"use strict";(function(e){i("b5e5"),i("921b");a(i("66fd"));var t=a(i("2773"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},c7f6:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},e9c9:function(e,t,i){}},[["7c67","common/runtime","common/vendor"]]]);